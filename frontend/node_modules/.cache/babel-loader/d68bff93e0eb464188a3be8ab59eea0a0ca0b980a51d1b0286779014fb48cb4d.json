{"ast":null,"code":"// --- 1. HEX를 HSL로 변환하는 함수 ---\nfunction hexToHsl(hex) {\n  // # 제거\n  hex = hex.replace(/^#/, '');\n\n  // 3자리(#RGB)를 6자리(#RRGGBB)로 변환\n  if (hex.length === 3) {\n    hex = hex.split('').map(c => c + c).join('');\n  }\n  const r = parseInt(hex.substring(0, 2), 16) / 255;\n  const g = parseInt(hex.substring(2, 4), 16) / 255;\n  const b = parseInt(hex.substring(4, 6), 16) / 255;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  let h,\n    s,\n    l = (max + min) / 2;\n  if (max === min) {\n    h = s = 0; // 무채색\n  } else {\n    const d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n      default:\n        break;\n    }\n    h /= 6;\n  }\n  return {\n    h: h * 360,\n    s: s * 100,\n    l: l\n  }; // H(0~360), S(0~100), L(0~1)\n}\n\n// --- 2. HSL을 HEX로 변환하는 함수 ---\nfunction hslToHex(h, s, l) {\n  l = Math.min(1, Math.max(0, l)); // L값 0~1 제한\n  s /= 100;\n  const a = s * Math.min(l, 1 - l);\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  const toHex = x => {\n    const hex = Math.round(x * 255).toString(16);\n    return hex.length === 1 ? '0' + hex : hex;\n  };\n  return `#${toHex(f(0))}${toHex(f(8))}${toHex(f(4))}`.toUpperCase();\n}\n\n// --- 3. [핵심] 팔레트 생성 함수 (요청하신 공식 적용) ---\nexport const calculatePalette = inputHex => {\n  // 1. 데이터 치환 (Convert)\n  const {\n    h,\n    s,\n    l\n  } = hexToHsl(inputHex);\n\n  // 2. 명도 타겟팅 (Targeting)\n  // 공식: round(L * 10) * 100\n  // 예: L=0.5 -> 5 -> 500, L=0.28 -> 3 -> 300\n  let targetLevel = Math.round(l * 10) * 100;\n\n  // 범위 보정 (0은 50이나 100으로, 1000은 900이나 950으로 처리할 수 있으나, 여기선 100~900 범위 안으로 클램핑)\n  if (targetLevel < 100) targetLevel = 100;\n  if (targetLevel > 900) targetLevel = 900;\n  const levels = [100, 200, 300, 400, 500, 600, 700, 800, 900];\n  const palette = [];\n\n  // 3. 팔레트 분배 (Distribution)\n  levels.forEach(level => {\n    let hexCode;\n\n    // ★ 중요: 타겟 레벨인 경우, 계산값이 아닌 '원본 입력값'을 그대로 사용 (브랜드 컬러 유지)\n    if (level === targetLevel) {\n      hexCode = inputHex.toUpperCase();\n      if (!hexCode.startsWith('#')) hexCode = '#' + hexCode;\n    } else {\n      // 공식: Standard L = Level / 1000\n      // 100 -> 0.1 (어두움/검정에 가까움)\n      // 900 -> 0.9 (밝음/흰색에 가까움)\n      // *참고: 보통 디자인 시스템과 반대(900이 어두움)일 수 있으나, 요청하신 공식(900=0.9)을 그대로 따름.\n      const newL = level / 1000;\n\n      // H와 S는 원본 유지 (100%), L만 변경\n      hexCode = hslToHex(h, s, newL);\n    }\n    palette.push({\n      level: level,\n      hex: hexCode,\n      isTarget: level === targetLevel\n    });\n  });\n  return {\n    palette,\n    targetLevel\n  };\n};","map":{"version":3,"names":["hexToHsl","hex","replace","length","split","map","c","join","r","parseInt","substring","g","b","max","Math","min","h","s","l","d","hslToHex","a","f","n","k","toHex","x","round","toString","toUpperCase","calculatePalette","inputHex","targetLevel","levels","palette","forEach","level","hexCode","startsWith","newL","push","isTarget"],"sources":["/Users/ihyeonju/Documents/이현주 개인/ai/frontend/src/utils.js"],"sourcesContent":["// --- 1. HEX를 HSL로 변환하는 함수 ---\nfunction hexToHsl(hex) {\n    // # 제거\n    hex = hex.replace(/^#/, '');\n    \n    // 3자리(#RGB)를 6자리(#RRGGBB)로 변환\n    if (hex.length === 3) {\n        hex = hex.split('').map(c => c + c).join('');\n    }\n\n    const r = parseInt(hex.substring(0, 2), 16) / 255;\n    const g = parseInt(hex.substring(2, 4), 16) / 255;\n    const b = parseInt(hex.substring(4, 6), 16) / 255;\n\n    const max = Math.max(r, g, b);\n    const min = Math.min(r, g, b);\n    \n    let h, s, l = (max + min) / 2;\n\n    if (max === min) {\n        h = s = 0; // 무채색\n    } else {\n        const d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n            default: break;\n        }\n        h /= 6;\n    }\n\n    return { h: h * 360, s: s * 100, l: l }; // H(0~360), S(0~100), L(0~1)\n}\n\n// --- 2. HSL을 HEX로 변환하는 함수 ---\nfunction hslToHex(h, s, l) {\n    l = Math.min(1, Math.max(0, l)); // L값 0~1 제한\n    s /= 100;\n    \n    const a = s * Math.min(l, 1 - l);\n    const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n\n    const toHex = (x) => {\n        const hex = Math.round(x * 255).toString(16);\n        return hex.length === 1 ? '0' + hex : hex;\n    };\n\n    return `#${toHex(f(0))}${toHex(f(8))}${toHex(f(4))}`.toUpperCase();\n}\n\n// --- 3. [핵심] 팔레트 생성 함수 (요청하신 공식 적용) ---\nexport const calculatePalette = (inputHex) => {\n    // 1. 데이터 치환 (Convert)\n    const { h, s, l } = hexToHsl(inputHex);\n\n    // 2. 명도 타겟팅 (Targeting)\n    // 공식: round(L * 10) * 100\n    // 예: L=0.5 -> 5 -> 500, L=0.28 -> 3 -> 300\n    let targetLevel = Math.round(l * 10) * 100;\n    \n    // 범위 보정 (0은 50이나 100으로, 1000은 900이나 950으로 처리할 수 있으나, 여기선 100~900 범위 안으로 클램핑)\n    if (targetLevel < 100) targetLevel = 100;\n    if (targetLevel > 900) targetLevel = 900;\n\n    const levels = [100, 200, 300, 400, 500, 600, 700, 800, 900];\n    const palette = [];\n\n    // 3. 팔레트 분배 (Distribution)\n    levels.forEach(level => {\n        let hexCode;\n        \n        // ★ 중요: 타겟 레벨인 경우, 계산값이 아닌 '원본 입력값'을 그대로 사용 (브랜드 컬러 유지)\n        if (level === targetLevel) {\n            hexCode = inputHex.toUpperCase();\n            if (!hexCode.startsWith('#')) hexCode = '#' + hexCode;\n        } else {\n            // 공식: Standard L = Level / 1000\n            // 100 -> 0.1 (어두움/검정에 가까움)\n            // 900 -> 0.9 (밝음/흰색에 가까움)\n            // *참고: 보통 디자인 시스템과 반대(900이 어두움)일 수 있으나, 요청하신 공식(900=0.9)을 그대로 따름.\n            const newL = level / 1000;\n            \n            // H와 S는 원본 유지 (100%), L만 변경\n            hexCode = hslToHex(h, s, newL);\n        }\n\n        palette.push({\n            level: level,\n            hex: hexCode,\n            isTarget: level === targetLevel\n        });\n    });\n\n    return { palette, targetLevel };\n};"],"mappings":"AAAA;AACA,SAASA,QAAQA,CAACC,GAAG,EAAE;EACnB;EACAA,GAAG,GAAGA,GAAG,CAACC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;;EAE3B;EACA,IAAID,GAAG,CAACE,MAAM,KAAK,CAAC,EAAE;IAClBF,GAAG,GAAGA,GAAG,CAACG,KAAK,CAAC,EAAE,CAAC,CAACC,GAAG,CAACC,CAAC,IAAIA,CAAC,GAAGA,CAAC,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC;EAChD;EAEA,MAAMC,CAAC,GAAGC,QAAQ,CAACR,GAAG,CAACS,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,GAAG;EACjD,MAAMC,CAAC,GAAGF,QAAQ,CAACR,GAAG,CAACS,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,GAAG;EACjD,MAAME,CAAC,GAAGH,QAAQ,CAACR,GAAG,CAACS,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,GAAG;EAEjD,MAAMG,GAAG,GAAGC,IAAI,CAACD,GAAG,CAACL,CAAC,EAAEG,CAAC,EAAEC,CAAC,CAAC;EAC7B,MAAMG,GAAG,GAAGD,IAAI,CAACC,GAAG,CAACP,CAAC,EAAEG,CAAC,EAAEC,CAAC,CAAC;EAE7B,IAAII,CAAC;IAAEC,CAAC;IAAEC,CAAC,GAAG,CAACL,GAAG,GAAGE,GAAG,IAAI,CAAC;EAE7B,IAAIF,GAAG,KAAKE,GAAG,EAAE;IACbC,CAAC,GAAGC,CAAC,GAAG,CAAC,CAAC,CAAC;EACf,CAAC,MAAM;IACH,MAAME,CAAC,GAAGN,GAAG,GAAGE,GAAG;IACnBE,CAAC,GAAGC,CAAC,GAAG,GAAG,GAAGC,CAAC,IAAI,CAAC,GAAGN,GAAG,GAAGE,GAAG,CAAC,GAAGI,CAAC,IAAIN,GAAG,GAAGE,GAAG,CAAC;IACnD,QAAQF,GAAG;MACP,KAAKL,CAAC;QAAEQ,CAAC,GAAG,CAACL,CAAC,GAAGC,CAAC,IAAIO,CAAC,IAAIR,CAAC,GAAGC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAAE;MAC3C,KAAKD,CAAC;QAAEK,CAAC,GAAG,CAACJ,CAAC,GAAGJ,CAAC,IAAIW,CAAC,GAAG,CAAC;QAAE;MAC7B,KAAKP,CAAC;QAAEI,CAAC,GAAG,CAACR,CAAC,GAAGG,CAAC,IAAIQ,CAAC,GAAG,CAAC;QAAE;MAC7B;QAAS;IACb;IACAH,CAAC,IAAI,CAAC;EACV;EAEA,OAAO;IAAEA,CAAC,EAAEA,CAAC,GAAG,GAAG;IAAEC,CAAC,EAAEA,CAAC,GAAG,GAAG;IAAEC,CAAC,EAAEA;EAAE,CAAC,CAAC,CAAC;AAC7C;;AAEA;AACA,SAASE,QAAQA,CAACJ,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACvBA,CAAC,GAAGJ,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACD,GAAG,CAAC,CAAC,EAAEK,CAAC,CAAC,CAAC,CAAC,CAAC;EACjCD,CAAC,IAAI,GAAG;EAER,MAAMI,CAAC,GAAGJ,CAAC,GAAGH,IAAI,CAACC,GAAG,CAACG,CAAC,EAAE,CAAC,GAAGA,CAAC,CAAC;EAChC,MAAMI,CAAC,GAAGA,CAACC,CAAC,EAAEC,CAAC,GAAG,CAACD,CAAC,GAAGP,CAAC,GAAG,EAAE,IAAI,EAAE,KAAKE,CAAC,GAAGG,CAAC,GAAGP,IAAI,CAACD,GAAG,CAACC,IAAI,CAACC,GAAG,CAACS,CAAC,GAAG,CAAC,EAAE,CAAC,GAAGA,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAEvF,MAAMC,KAAK,GAAIC,CAAC,IAAK;IACjB,MAAMzB,GAAG,GAAGa,IAAI,CAACa,KAAK,CAACD,CAAC,GAAG,GAAG,CAAC,CAACE,QAAQ,CAAC,EAAE,CAAC;IAC5C,OAAO3B,GAAG,CAACE,MAAM,KAAK,CAAC,GAAG,GAAG,GAAGF,GAAG,GAAGA,GAAG;EAC7C,CAAC;EAED,OAAO,IAAIwB,KAAK,CAACH,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGG,KAAK,CAACH,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGG,KAAK,CAACH,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAACO,WAAW,CAAC,CAAC;AACtE;;AAEA;AACA,OAAO,MAAMC,gBAAgB,GAAIC,QAAQ,IAAK;EAC1C;EACA,MAAM;IAAEf,CAAC;IAAEC,CAAC;IAAEC;EAAE,CAAC,GAAGlB,QAAQ,CAAC+B,QAAQ,CAAC;;EAEtC;EACA;EACA;EACA,IAAIC,WAAW,GAAGlB,IAAI,CAACa,KAAK,CAACT,CAAC,GAAG,EAAE,CAAC,GAAG,GAAG;;EAE1C;EACA,IAAIc,WAAW,GAAG,GAAG,EAAEA,WAAW,GAAG,GAAG;EACxC,IAAIA,WAAW,GAAG,GAAG,EAAEA,WAAW,GAAG,GAAG;EAExC,MAAMC,MAAM,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;EAC5D,MAAMC,OAAO,GAAG,EAAE;;EAElB;EACAD,MAAM,CAACE,OAAO,CAACC,KAAK,IAAI;IACpB,IAAIC,OAAO;;IAEX;IACA,IAAID,KAAK,KAAKJ,WAAW,EAAE;MACvBK,OAAO,GAAGN,QAAQ,CAACF,WAAW,CAAC,CAAC;MAChC,IAAI,CAACQ,OAAO,CAACC,UAAU,CAAC,GAAG,CAAC,EAAED,OAAO,GAAG,GAAG,GAAGA,OAAO;IACzD,CAAC,MAAM;MACH;MACA;MACA;MACA;MACA,MAAME,IAAI,GAAGH,KAAK,GAAG,IAAI;;MAEzB;MACAC,OAAO,GAAGjB,QAAQ,CAACJ,CAAC,EAAEC,CAAC,EAAEsB,IAAI,CAAC;IAClC;IAEAL,OAAO,CAACM,IAAI,CAAC;MACTJ,KAAK,EAAEA,KAAK;MACZnC,GAAG,EAAEoC,OAAO;MACZI,QAAQ,EAAEL,KAAK,KAAKJ;IACxB,CAAC,CAAC;EACN,CAAC,CAAC;EAEF,OAAO;IAAEE,OAAO;IAAEF;EAAY,CAAC;AACnC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}